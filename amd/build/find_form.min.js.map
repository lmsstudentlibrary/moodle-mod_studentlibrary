{"version":3,"file":"find_form.min.js","sources":["../src/find_form.js"],"sourcesContent":["import $ from 'jquery';\n// import ModalConstructor from \"./modal_constructor\";\n// import CustomEvents from 'core/custom_interaction_events';\n\nexport const init = (\n    serverapi\n    , kits_select\n    , div_select\n    , headerContent\n    , search_button\n    , add_button\n    , search_bar\n    , add_button_kit_string\n    , lang\n) => {\n    $('#search_button').on(\"click\", function () {\n        // Удаляем артефакты\n        let dialogDom = document.getElementsByClassName('search-book-dialogue');\n        for (let i = 0; i < dialogDom.length; i++) {\n            if (dialogDom[i].getAttribute('aria-hidden') == 'true') {\n                dialogDom[i].remove();\n            }\n        }\n        const ssr = this.getAttribute(\"ssr_p\");\n        const pagination = 6;\n        let content;\n        content = Y.Node.create(\n            '<div class = \"book-dialog\" id = \"book-dialog\">' +\n            '<div class=\"book-search-form\" id=\"book-search-form\"><div class=\"book_search_form_filter\" id=\"book_search_form_filter\"></div></div>' +\n            '<hr />' +\n            '<div class=\"book-search-list\" id=\"book-search-list\"></div>' +\n            '<div class=\"book-pagination\" id=\"book-pagination\"></div>' +\n            '<hr />' +\n            '<div class=\"book_button\" id=\"book_button\" align=\"center\"></div>' +\n            '</div>'\n        );\n        let search_form = content.one('#book-search-form');\n        let search_form_filter = content.one('#book_search_form_filter');\n        let book_button = content.one('#book_button');\n        /**\n        * kitsSelect\n        */\n        let kitsSelect = Y.Node.create('<div><p>' + kits_select + '</p><select id=\"kits_select\" class=\"kits_select custom-select\"></select></div>');\n        let kitsSelectOne = kitsSelect.one('#kits_select');\n        const kitsURL = serverapi + \"db?SSr=\" + ssr + \"&guide=sengine&cmd=sel&tag=all_agreement_kits\";\n        let kitsHttp = new XMLHttpRequest();\n        kitsHttp.open(\"GET\", kitsURL, false); // false for synchronous request\n        kitsHttp.send(null);\n        const kitsXmlDoc = convertStringToXML(kitsHttp.responseText);\n        const kitsArray = kitsXmlDoc.getElementsByTagName('kit');\n        let divSelect = Y.Node.create('<div><p>' + div_select + '</p><select id=\"div_select\" class=\"div_select custom-select\"></select></div>');\n        let divSelectOne = divSelect.one('#div_select');\n        for (let i = 0; i < kitsArray.length; i++) {\n            let option = document.createElement(\"option\");\n            option.value = kitsArray[i].getAttribute('id');\n            let KitDataList = GetKitData(serverapi, ssr, kitsArray[i].getAttribute('id'));\n            const divArray = KitDataList.getElementsByTagName('division');\n            if (i == 0) {\n                for (let j = 0; j < divArray.length; j++) {\n                    let option = document.createElement(\"option\");\n                    option.value = divArray[j].getAttribute('id');\n                    let divData = GetDivFullName(serverapi, ssr, divArray[j].getAttribute('id'), lang);\n                    option.text = divData;\n                    divSelectOne.appendChild(option);\n                }\n            }\n            option.text = KitDataList.getElementsByTagName('name')[0].getElementsByTagName('string')[0].innerHTML;\n            kitsSelectOne.appendChild(option);\n        }\n        search_form_filter.appendChild(kitsSelect);\n        search_form_filter.appendChild(divSelect);\n        let add_button_kit = add_button_kit_string;\n        let addkit = Y.Node.create('<button class=\"btn btn-primary addbook\" name=\"submitbutton_kit\" id=\"id_submitbutton_lit\">' + add_button_kit + '</button>');\n        addkit.on('click', function () {\n            const kits_select = document.getElementById('kits_select');\n            if (kits_select) {\n                document.getElementById('id_booke').value = 'switch_kit/' + kits_select.value;\n                dialogRef.dialog.destroy();\n            } else {\n                window.console.log('no book selected');\n            }\n        });\n        search_form_filter.appendChild(addkit);\n        let input_book_search = Y.Node.create(\n            '<div><p>' + search_bar + '</p><input type=\"text\" id=\"input_book_search\" class=\"input_book_search custom-select\" placeholder=\"Реанимация, Пропедевтика\"></div>'\n        );\n        search_form.appendChild(input_book_search);\n        let button_book_search = Y.Node.create('<button type=\"button\" id=\"button_book_search\" class=\"button_book_search btn btn-outline-primary\">' + search_button + '</button>');\n        button_book_search.on('click', function () {\n            let search_input = document.getElementById('input_book_search').value;\n            const div_select = document.getElementById('div_select').value;\n            let book_search_list = document.getElementById(\"book-search-list\");\n            book_search_list.innerHTML = '';\n            const searchURL = serverapi + 'db?SSr=' + ssr + '&cmd=sel&guide=sengine&tag=kwords_search&paginate=' + pagination + '&div=' + div_select + '&kwords=\"' + search_input + '\"';\n            let xmlHttp = new XMLHttpRequest();\n            xmlHttp.open(\"GET\", searchURL, false); // false for synchronous request\n            xmlHttp.send(null);\n            BuildBooksList(serverapi, ssr, xmlHttp.responseText, pagination, serverapi);\n        });\n        let addbook = Y.Node.create('<button class=\"btn btn-primary addbook\" name=\"submitbutton_book\" id=\"id_submitbutton_book\">' + add_button + '</button>');\n        addbook.on('click', function () {\n            const BookData = document.querySelector('input[name=radio-card-input]:checked');\n            if (BookData) {\n                document.getElementById('id_booke').value = BookData.value;\n                dialogRef.dialog.destroy();\n            } else {\n                window.console.log('no book selected');\n            }\n        });\n        book_button.appendChild(addbook);\n        kitsSelectOne.on('change', function () {\n            const selectKit = document.getElementById('kits_select').value;\n            let divSelectOne = document.getElementById('div_select');\n            divSelectOne.innerHTML = '';\n            let DivList = GetKitData(serverapi, ssr, selectKit);\n            const divArray = DivList.getElementsByTagName('division');\n            for (let j = 0; j < divArray.length; j++) {\n                let option = document.createElement(\"option\");\n                option.value = divArray[j].getAttribute('id');\n                let divData = GetDivFullName(serverapi, ssr, divArray[j].getAttribute('id'), lang);\n                option.text = divData;\n                divSelectOne.appendChild(option);\n            }\n        });\n        search_form.appendChild(button_book_search);\n        let dialogRef = { dialog: null };\n        let config = {\n            headerContent: headerContent,\n            bodyContent: content,\n            additionalBaseClass: 'search-book-dialogue',\n            draggable: true,\n            modal: true,\n            closeButton: true,\n            width: '50%'\n        };\n        dialogRef.dialog = new M.core.dialogue(config);\n        dialogRef.dialog.show();\n    });\n    $('#id_booke').on(\"change\", function () {\n        const ssr = this.getAttribute(\"ssr_o\");\n        const id_error_booke = document.getElementById(\"id_error_booke\");\n        id_error_booke.innerHTML = '';\n        id_error_booke.style.display = \"none\";\n        let book_id_text = this.value;\n        if (book_id_text.indexOf('/doc/') >= 0) {\n            const BookID = FainfBookId(book_id_text, book_id_text.indexOf('/doc/') + 1, book_id_text.indexOf('.html'));\n            this.value = BookID;\n            if (GetBookData(serverapi, ssr, BookID)) {\n                window.console.log('book_id ok');\n            } else {\n                window.console.log('book_id no');\n                id_error_booke.innerHTML = 'Такой идентификатор не найден';\n                id_error_booke.style.display = \"block\";\n            }\n        } else if (book_id_text.indexOf('/book/') >= 0) {\n            const BookID = FainfBookId(book_id_text, book_id_text.indexOf('/book/') + 1, book_id_text.indexOf('.html'));\n            this.value = BookID;\n            if (GetBookData(serverapi, ssr, BookID)) {\n                window.console.log('book_id ok');\n            } else {\n                window.console.log('book_id no');\n                id_error_booke.innerHTML = 'Такой идентификатор не найден';\n                id_error_booke.style.display = \"block\";\n            }\n        } else if (book_id_text.indexOf('doc/') === 0) {\n            const BookID = FainfBookId(book_id_text, 0, book_id_text.indexOf('.html'));\n            this.value = BookID;\n            if (GetBookData(serverapi, ssr, BookID)) {\n                window.console.log('book_id ok');\n            } else {\n                window.console.log('book_id no');\n                id_error_booke.innerHTML = 'Такой идентификатор не найден';\n                id_error_booke.style.display = \"block\";\n            }\n        } else if (book_id_text.indexOf('book/') === 0) {\n            const BookID = FainfBookId(book_id_text, 0, book_id_text.indexOf('.html'));\n            this.value = BookID;\n            if (GetBookData(serverapi, ssr, BookID)) {\n                window.console.log('book_id ok');\n            } else {\n                window.console.log('book_id no');\n                id_error_booke.innerHTML = 'Такой идентификатор не найден';\n                id_error_booke.style.display = \"block\";\n            }\n        } else {\n            id_error_booke.innerHTML = 'Не верный идентификатор книги';\n            id_error_booke.style.display = \"block\";\n        }\n    });\n};\n\nconst FainfBookId = function (str, text_s, test_f) {\n    let new_text_s = text_s;\n    let new_text_f = test_f;\n    if (test_f === -1) {\n        new_text_f = str.length;\n    }\n    return (str.substring(new_text_s, new_text_f));\n};\n\nconst cardclick = (book_id) => {\n    unclickRadio();\n    removeActive();\n    makeActive(book_id);\n    clickRadio(book_id);\n};\n\nconst unclickRadio = () => {\n    $(\"input:radio\").prop(\"checked\", false);\n};\n\nconst clickRadio = (inputElement) => {\n    $(\"#\" + inputElement).prop(\"checked\", true);\n};\n\nconst removeActive = () => {\n    $(\".card\").removeClass(\"active\");\n};\nconst makeActive = (element) => {\n    $(\"#\" + element + \"-card\").addClass(\"active\");\n};\n\nconst convertStringToXML = (xmlString) => {\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\n    return xmlDoc;\n};\n\nconst GetKitData = (server, ssr, selectKit) => {\n    const divURL = server + 'db?SSr=' + ssr + '&guide=sengine&cmd=sel&tag=kit_content&kit=' + selectKit;\n    let xmlHttp = new XMLHttpRequest();\n    xmlHttp.open(\"GET\", divURL, false); // false for synchronous request\n    xmlHttp.send(null);\n    return (convertStringToXML(xmlHttp.responseText));\n};\n\nconst GetDivFullName = (server, ssr, divID, page = 0, leng) => {\n    let divDataURL = server + 'db?SSr=' + ssr + '&guide=sengine&cmd=sel&tag=division_books&div=' + divID;\n    if (page !== 0) {\n        divDataURL = divDataURL + '&paginate=' + page;\n    } else {\n        divDataURL = divDataURL + '&paginate=1';\n    }\n    let xmlHttp = new XMLHttpRequest();\n    xmlHttp.open(\"GET\", divDataURL, false); // false for synchronous request\n    xmlHttp.send(null);\n    const divData = convertStringToXML(xmlHttp.responseText);\n    const full_name_list = divData.getElementsByTagName('full_name');\n    if (full_name_list.length > 0) {\n        const divName_stringlist = full_name_list[0].querySelector(`[language=\"${leng}\"]`);\n        if (divName_stringlist !== null) {\n            return divName_stringlist.innerHTML;\n        } else {\n            return full_name_list[0].getElementsByTagName('string')[0].innerHTML;\n        }\n    } else {\n        return divID;\n    }\n};\n\nconst BuildBooksList = (server, ssr, xmlString, pagination, serverapi, book_total = -1, res_id = -1) => {\n    let book_search_list = document.getElementById(\"book-search-list\");\n    let book_pagination = document.getElementById(\"book-pagination\");\n    book_search_list.innerHTML = '';\n    book_pagination.innerHTML = '';\n    let xmlDoc = convertStringToXML(xmlString);\n    let bookList = xmlDoc.getElementsByTagName('data');\n    if (res_id === -1) {\n        res_id = xmlDoc.getElementsByTagName('res_id')[0].innerHTML;\n    }\n    if (book_total === -1) {\n        book_total = xmlDoc.getElementsByTagName('total')[0].innerHTML;\n    }\n    let page = document.getElementById('book-pagination').getAttribute('page');\n    if (page === null) {\n        page = 1;\n    }\n    if (bookList.length > 0) {\n        for (let i = 0; i < bookList.length; i++) {\n            let BookID = bookList[i].innerHTML;\n            if (BookID.split('/')[0] === 'book') {\n                let Book = BuildBook(server, ssr, BookID);\n                book_search_list.appendChild(Book);\n            } else if (BookID.split('/')[0] === 'doc') {\n                let Book = BuildDoc(server, ssr, BookID);\n                book_search_list.appendChild(Book);\n            }\n        }\n        const navBar = BuildBookPagination(res_id, ssr, pagination, book_total, page, serverapi);\n        book_pagination.appendChild(navBar);\n    } else {\n        const notFaund_div = document.createElement('div');\n        const notFaund_p = document.createElement('p');\n        notFaund_p.innerText = 'Not Found';\n        notFaund_div.appendChild(notFaund_p);\n        book_search_list.appendChild(notFaund_div);\n    }\n};\n\nconst BuildBook = (server, ssr, BookID) => {\n    let GetBookDataURL = server + 'db?SSr=' + ssr + '&guide=' + BookID.split('/')[0] + '&cmd=data&id=' + BookID.split('/')[1] + '&img_src_form=b64';\n    let xmlHttp = new XMLHttpRequest();\n    xmlHttp.open(\"GET\", GetBookDataURL, false); // false for synchronous request\n    xmlHttp.send(null);\n    let BookData = convertStringToXML(xmlHttp.responseText);\n    let meta = BookData.getElementsByTagName('meta')[0];\n    // Layout\n    const book_list_item = '<label class=\"radio-card\"><input type=\"radio\" name=\"radio-card-input\" class=\"radio-card-input\"/><div class=\"card-content-wrapper\"><span class=\"check-icon\"></span><div class=\"card-content\"><img></img><div class=\"metadata\"><div class=\"title\"></div><div class=\"authors\"></div><div class=\"doc_name\"></div></div></div></div></label>';\n    let div_book_list_item = document.createElement('div');\n    div_book_list_item.innerHTML = book_list_item;\n    // END_Layout\n    let radio_card = div_book_list_item.getElementsByClassName('radio-card')[0];\n    radio_card.setAttribute('for', BookID.split('/')[1]);\n    div_book_list_item.getElementsByClassName('radio-card-input')[0].setAttribute('id', BookID.split('/')[1]);\n    // Name\n    if (BookData.getElementsByTagName('title')[0].getElementsByTagName('string').length > 0) {\n        div_book_list_item.getElementsByClassName('title')[0].innerHTML = ReplaceCDATA(BookData.getElementsByTagName('title')[0].getElementsByTagName('string')[0].innerHTML);\n    }\n    // Autor\n    if (meta.querySelectorAll('[name=\"authors\"]')[0].getElementsByTagName('string').length > 0) {\n        div_book_list_item.getElementsByClassName('authors')[0].innerHTML = ReplaceCDATA(meta.querySelectorAll('[name=\"authors\"]')[0].getElementsByTagName('string')[0].innerHTML);\n    }\n    // Select book\n    div_book_list_item.getElementsByClassName('radio-card-input')[0].value = BookID;\n    div_book_list_item.getElementsByClassName(\"radio-card\")[0].onclick = function () {\n        cardclick(BookID.split('/')[1]);\n    };\n    div_book_list_item.getElementsByTagName('img')[0].setAttribute('src', BookData.getElementById(\"avatar\").getAttribute(\"src\"));\n    return div_book_list_item;\n};\n\nconst BuildDoc = (server, ssr, BookID) => {\n    let NewBookID = GetBookIdbyDocId(server, ssr, BookID);\n    if (NewBookID !== null) {\n        let GetBookDataURL = server + 'db?SSr=' + ssr + '&guide=book&cmd=data&id=' + NewBookID + '&img_src_form=b64';\n        let xmlHttp = new XMLHttpRequest();\n        xmlHttp.open(\"GET\", GetBookDataURL, false); // false for synchronous request\n        xmlHttp.send(null);\n        let BookData = convertStringToXML(xmlHttp.responseText);\n        if (BookData.getElementsByTagName('meta').length > 0) {\n            let meta = BookData.getElementsByTagName('meta')[0];\n            // Layout\n            const book_list_item = '<label class=\"radio-card\"><input type=\"radio\" name=\"radio-card-input\" class=\"radio-card-input\"/><div class=\"card-content-wrapper\"><span class=\"check-icon\"></span><div class=\"card-content\"><img></img><div class=\"metadata\"><div class=\"doc_name\"></div><div class=\"title\"></div><div class=\"authors\"></div></div></div></div></label>';\n            let div_book_list_item = document.createElement('div');\n            div_book_list_item.innerHTML = book_list_item;\n            // END_Layout\n            let radio_card = div_book_list_item.getElementsByClassName('radio-card')[0];\n            radio_card.setAttribute('for', BookID.split('/')[1] + '_' + BookID.split('/')[2]);\n            div_book_list_item.getElementsByClassName('radio-card-input')[0].setAttribute('id', BookID.split('/')[1] + '_' + BookID.split('/')[2]);\n            // Name\n            if (BookData.getElementsByTagName('title')[0].getElementsByTagName('string').length > 0) {\n                div_book_list_item.getElementsByClassName('title')[0].innerHTML = ReplaceCDATA(BookData.getElementsByTagName('title')[0].getElementsByTagName('string')[0].innerHTML);\n            }\n            // Chapter\n            if (BookID.split('/')[2]) {\n                div_book_list_item.getElementsByClassName('doc_name')[0].innerHTML = ReplaceCDATA(BookData.getElementById(BookID.split('/')[1]).getElementsByTagName('string')[0].innerHTML) + ' стр. ' + BookID.split('/')[2];\n            } else {\n                div_book_list_item.getElementsByClassName('doc_name')[0].innerHTML = ReplaceCDATA(BookData.getElementById(BookID.split('/')[1]).getElementsByTagName('string')[0].innerHTML);\n            }\n            // Author\n            if (meta.querySelectorAll('[name=\"authors\"]')[0].getElementsByTagName('string').length > 0) {\n                div_book_list_item.getElementsByClassName('authors')[0].innerHTML = ReplaceCDATA(meta.querySelectorAll('[name=\"authors\"]')[0].getElementsByTagName('string')[0].innerHTML);\n            }\n            // Select book\n            div_book_list_item.getElementsByClassName('radio-card-input')[0].value = BookID;\n            div_book_list_item.getElementsByClassName(\"radio-card\")[0].onclick = function () {\n                cardclick(BookID.split('/')[1] + '_' + BookID.split('/')[2]);\n            };\n            div_book_list_item.getElementsByTagName('img')[0].setAttribute('src', BookData.getElementById(\"avatar\").getAttribute(\"src\"));\n            return div_book_list_item;\n        } else {\n            let div_book_list_item = document.createElement('div');\n            return div_book_list_item;\n        }\n    } else {\n        let div_book_list_item = document.createElement('div');\n        return div_book_list_item;\n    }\n};\n\nconst ReplaceCDATA = (str) => {\n    return (str.replace(\"<![CDATA[\", \"\").replace(\"]]>\", \"\"));\n};\n\nconst PaginationClick = (ssr, res_id, page, pagination, serverapi, total) => {\n    let book_search_list = document.getElementById(\"book-search-list\");\n    book_search_list.innerHTML = '';\n    const searchURL = serverapi + 'db?SSr=' + ssr + '&cmd=more&guide=sengine&res_id=' + res_id + '&from=' + ((page - 1) * pagination);\n    let xmlHttp = new XMLHttpRequest();\n    xmlHttp.open(\"GET\", searchURL, false); // false for synchronous request\n    xmlHttp.send(null);\n    document.getElementById('book-pagination').setAttribute('page', page);\n    BuildBooksList(serverapi, ssr, xmlHttp.responseText, pagination, serverapi, total, res_id);\n};\n\nconst BuildBookPagination = (res_id, ssr, pagination, total, page = 1, serverapi) => {\n    const pageCount = Math.ceil(total / pagination);\n    let nav_bar = document.createElement('div');\n    nav_bar.id = 'book_nav_bar';\n    nav_bar.classList.add('book_nav_bar');\n    nav_bar.classList.add('pagination');\n    nav_bar.classList.add('pagination-centered');\n    nav_bar.classList.add('justify-content-center');\n    let nav_bar_ul = document.createElement('ui');\n    nav_bar_ul.classList.add('pagination');\n    nav_bar_ul.setAttribute('data-page-size', 20);\n    if (pageCount > 1) {\n        // the back button\n        if (page > 1) {\n            let previous_page = document.createElement('li');\n            previous_page.classList.add('page-item');\n            previous_page.classList.add('page-item-book');\n            previous_page.onclick = function () { PaginationClick(ssr, res_id, Number(page) - 1, pagination, serverapi, total); };\n            let previous_page_a = document.createElement('a');\n            previous_page_a.classList.add('page-link');\n            previous_page_a.setAttribute('page', Number(page) - 1);\n            previous_page_a.innerHTML = '<span aria-hidden=\"true\">«</span>';\n            previous_page.appendChild(previous_page_a);\n            nav_bar_ul.appendChild(previous_page);\n        }\n        // the page 1 button\n        let first_page = document.createElement('li');\n        first_page.classList.add('page-item');\n        first_page.classList.add('page-item-book');\n        if (page == 1) {\n            first_page.classList.add('active');\n        }\n        first_page.onclick = function () { PaginationClick(ssr, res_id, 1, pagination, serverapi, total); };\n        let first_page_a = document.createElement('a');\n        first_page_a.classList.add('page-link');\n        first_page_a.setAttribute('page', 1);\n        first_page_a.innerHTML = '<span aria-hidden=\"true\">1</span>';\n        first_page.appendChild(first_page_a);\n        nav_bar_ul.appendChild(first_page);\n        // the current one ...\n        if (page > 3) {\n            let previous_one_page_space = document.createElement('li');\n            previous_one_page_space.classList.add('page-item');\n            previous_one_page_space.classList.add('disabled');\n            previous_one_page_space.classList.add('page-item-book');\n            let previous_one_page_space_a = document.createElement('a');\n            previous_one_page_space_a.classList.add('page-link');\n            previous_one_page_space_a.innerHTML = '<span aria-hidden=\"true\">...</span>';\n            previous_one_page_space.appendChild(previous_one_page_space_a);\n            nav_bar_ul.appendChild(previous_one_page_space);\n        }\n        // current page - 1\n        if (page > 2) {\n            let previous_one_page = document.createElement('li');\n            previous_one_page.classList.add('page-item');\n            previous_one_page.classList.add('page-item-book');\n            previous_one_page.onclick = function () { PaginationClick(ssr, res_id, Number(page) - 1, pagination, serverapi, total); };\n            let previous_one_page_a = document.createElement('a');\n            previous_one_page_a.classList.add('page-link');\n            previous_one_page_a.setAttribute('page', Number(page) - 1);\n            previous_one_page_a.innerHTML = '<span aria-hidden=\"true\">' + (Number(page) - 1) + '</span>';\n            previous_one_page.appendChild(previous_one_page_a);\n            nav_bar_ul.appendChild(previous_one_page);\n        }\n        // current page\n        if (page > 1 && page < (Number(pageCount))) {\n            let Current_one_page = document.createElement('li');\n            Current_one_page.classList.add('page-item');\n            Current_one_page.classList.add('page-item-book');\n            Current_one_page.classList.add('active');\n            let Current_one_page_a = document.createElement('a');\n            Current_one_page_a.classList.add('page-link');\n            Current_one_page_a.innerHTML = '<span aria-hidden=\"true\">' + Number(page) + '</span>';\n            Current_one_page.appendChild(Current_one_page_a);\n            nav_bar_ul.appendChild(Current_one_page);\n        }\n        // current page + 1\n        if (page < (Number(pageCount) - 1)) {\n            let next_one_page = document.createElement('li');\n            next_one_page.classList.add('page-item');\n            next_one_page.classList.add('page-item-book');\n            next_one_page.onclick = function () { PaginationClick(ssr, res_id, Number(page) + 1, pagination, serverapi, total); };\n            let next_one_page_a = document.createElement('a');\n            next_one_page_a.classList.add('page-link');\n            next_one_page_a.setAttribute('page', Number(page) + 1);\n            next_one_page_a.innerHTML = '<span aria-hidden=\"true\">' + (Number(page) + 1) + '</span>';\n            next_one_page.appendChild(next_one_page_a);\n            nav_bar_ul.appendChild(next_one_page);\n        }\n        // current page ...\n        if (page < (Number(pageCount) - 2)) {\n            let next_one_page_space = document.createElement('li');\n            next_one_page_space.classList.add('page-item');\n            next_one_page_space.classList.add('disabled');\n            next_one_page_space.classList.add('page-item-book');\n            let next_one_page_space_a = document.createElement('a');\n            next_one_page_space_a.classList.add('page-link');\n            next_one_page_space_a.innerHTML = '<span aria-hidden=\"true\">...</span>';\n            next_one_page_space.appendChild(next_one_page_space_a);\n            nav_bar_ul.appendChild(next_one_page_space);\n        }\n        // current page last\n        let last_page = document.createElement('li');\n        last_page.classList.add('page-item');\n        last_page.classList.add('page-item-book');\n        last_page.onclick = function () { PaginationClick(ssr, res_id, pageCount, pagination, serverapi, total); };\n        if (page == pageCount) {\n            last_page.classList.add('active');\n        }\n        let last_page_a = document.createElement('a');\n        last_page_a.classList.add('page-link');\n        last_page_a.setAttribute('page', pageCount);\n        last_page_a.innerHTML = '<span aria-hidden=\"true\">' + pageCount + '</span>';\n        last_page.appendChild(last_page_a);\n        nav_bar_ul.appendChild(last_page);\n        // button next\n        if (page < pageCount) {\n            let next_page = document.createElement('li');\n            next_page.classList.add('page-item');\n            next_page.classList.add('page-item-book');\n            next_page.onclick = function () { PaginationClick(ssr, res_id, Number(page) + 1, pagination, serverapi, total); };\n            let next_page_a = document.createElement('a');\n            next_page_a.classList.add('page-link');\n            last_page_a.setAttribute('page', Number(page) + 1);\n            next_page_a.innerHTML = '<span aria-hidden=\"true\">»</span>';\n            next_page.appendChild(next_page_a);\n            nav_bar_ul.appendChild(next_page);\n        }\n    }\n    document.getElementById('book-pagination').setAttribute('page', page);\n    nav_bar.appendChild(nav_bar_ul);\n    return nav_bar;\n};\n\nconst GetBookIdbyDocId = (server, ssr, BookID) => {\n    let master_book_data_URL = server + 'db?SSr=' + ssr + '&guide=doc&cmd=data&id=' + BookID.split('/')[1] + '&tag=master_book_data';\n    let xmlHttp = new XMLHttpRequest();\n    xmlHttp.open(\"GET\", master_book_data_URL, false); // false for synchronous request\n    xmlHttp.send(null);\n    let master_book_data = convertStringToXML(xmlHttp.responseText);\n    let BookData = master_book_data.getElementsByTagName('book');\n    if (BookData.length > 0) {\n        return BookData[0].getAttribute('id');\n    } else {\n        return null;\n    }\n};\n\nconst GetBookData = (server, ssr, BookID) => {\n    let GetBookDataURL = server + 'db?SSr=' + ssr + '&guide=' + BookID.split('/')[0] + '&cmd=data&id=' + BookID.split('/')[1] + '&img_src_form=b64';\n    let xmlHttp = new XMLHttpRequest();\n    xmlHttp.open(\"GET\", GetBookDataURL, false); // false for synchronous request\n    xmlHttp.send(null);\n    let BookData = convertStringToXML(xmlHttp.responseText);\n    let meta = BookData.getElementsByTagName('title');\n    if (meta.length > 0) {\n        return true;\n    } else {\n        return false;\n    }\n};"],"names":["serverapi","kits_select","div_select","headerContent","search_button","add_button","search_bar","add_button_kit_string","lang","on","dialogDom","document","getElementsByClassName","i","length","getAttribute","remove","ssr","this","content","Y","Node","create","search_form","one","search_form_filter","book_button","kitsSelect","kitsSelectOne","kitsURL","kitsHttp","XMLHttpRequest","open","send","kitsArray","convertStringToXML","responseText","getElementsByTagName","divSelect","divSelectOne","option","createElement","value","KitDataList","GetKitData","divArray","j","divData","GetDivFullName","text","appendChild","innerHTML","add_button_kit","addkit","getElementById","dialogRef","dialog","destroy","window","console","log","input_book_search","button_book_search","search_input","searchURL","xmlHttp","BuildBooksList","addbook","BookData","querySelector","selectKit","config","bodyContent","additionalBaseClass","draggable","modal","closeButton","width","M","core","dialogue","show","id_error_booke","style","display","book_id_text","indexOf","BookID","FainfBookId","GetBookData","str","text_s","test_f","new_text_s","new_text_f","substring","cardclick","book_id","unclickRadio","removeActive","makeActive","clickRadio","prop","inputElement","removeClass","element","addClass","xmlString","DOMParser","parseFromString","server","divURL","divID","page","leng","divDataURL","full_name_list","divName_stringlist","pagination","book_total","res_id","book_search_list","book_pagination","xmlDoc","bookList","split","Book","BuildBook","BuildDoc","navBar","BuildBookPagination","notFaund_div","notFaund_p","innerText","GetBookDataURL","meta","div_book_list_item","setAttribute","ReplaceCDATA","querySelectorAll","onclick","NewBookID","GetBookIdbyDocId","book_list_item","replace","PaginationClick","total","pageCount","Math","ceil","nav_bar","id","classList","add","nav_bar_ul","previous_page","Number","previous_page_a","first_page","first_page_a","previous_one_page_space","previous_one_page_space_a","previous_one_page","previous_one_page_a","Current_one_page","Current_one_page_a","next_one_page","next_one_page_a","next_one_page_space","next_one_page_space_a","last_page","last_page_a","next_page","next_page_a","master_book_data_URL"],"mappings":"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"}